<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turismo Extremo Sur</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="img/logo_extremo_sur.png" width="30" height="30" class="d-inline-block align-top" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"><i class="bi bi-list"></i>
                </span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">¿Quiénes somos?</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nuestros_servicios.html">Nuestros servicios</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ubicacion.html">Ubicación</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="clima.html">Consulta el Clima</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contactanos.html">Contáctanos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="consulta-clima" class="text-center">
        <h1 style="text-align: center; color:yellow;" onclick="cambiarColorTitulo()">Pronóstico en Punta Arenas</h1>
        <div id="Pronostico" class="weather-forecast" style="display: flex; justify-content: center;"></div>
    </section>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>

    <script>
        const settings = {
            async: true,
            crossDomain: true,
            url: 'https://yahoo-weather5.p.rapidapi.com/weather?location=Punta%20Arenas&format=json&u=c',
            method: 'GET',
            headers: {
                'X-RapidAPI-Key': 'c22823c660msh29ed1f938d22d7fp192823jsn3cf45f217edf',
                'X-RapidAPI-Host': 'yahoo-weather5.p.rapidapi.com'
            }
        };

        $.ajax(settings).done(function (response) {
            console.log(response.forecasts);
            $.each(response.forecasts, function (i, item) {
                var iconUrl = getWeatherIconUrl(item.code); // Obtener la URL de la imagen del clima
                var html = `
                    <div class="forecast-item">
                        <h3>${item.day}</h3>
                        <img src="${iconUrl}" alt="${item.text}" width="50">
                        <p><strong>Mínima:</strong> ${item.low}°C</p>
                        <p><strong>Máxima:</strong> ${item.high}°C</p>
                    </div>`;
                $("#Pronostico").append(html);
            })
        });

        // Función para obtener la URL de la imagen del clima según el código de clima
        function getWeatherIconUrl(weatherCode) {
            // Objeto que mapea los códigos de clima a las URL de las imágenes
            var weatherIcons = {
                "32": "img/soleado.png", // Soleado
                "11": "img/lluvia.png", // Lluvia
                "26": "img/nublado.png", // Nublado
                "34": "img/parcialmente_nublado.png", // Parcialmente nublado
                "28": "img/nublado.png", // Mayormente nublado
                // Agrega más códigos de clima y las URL correspondientes aquí
            };
            // Si no hay una URL definida para el código de clima, usa una imagen por defecto
            return weatherIcons[weatherCode] || "url_de_la_imagen_por_defecto.png";
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


</body>

</html>